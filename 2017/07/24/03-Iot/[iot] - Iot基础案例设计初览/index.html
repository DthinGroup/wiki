<!DOCTYPE html>
<html lang=en>
<head>
    <meta charset="utf-8">
    
    <title>Iot基础案例设计初览 | dthing wiki</title>
    
    
        <meta name="keywords" content="iot" />
    
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="Iot基础案例设计初览[TOC]0.Index Internet Of Things - 万物联网。 互联网是人与人的网络互联来产生价值, 而物联网目的是能将任何物体的任何属性都能接入网络或进行反向控制(交互控制和智能控制), 有价值的立刻产生价值, 没有价值的进行价值创造.   1. 物联网要义要义:   物联网的基">
<meta name="keywords" content="iot">
<meta property="og:type" content="article">
<meta property="og:title" content="Iot基础案例设计初览">
<meta property="og:url" content="https://DthinGroup.github.io/wiki/2017/07/24/03-Iot/[iot] - Iot基础案例设计初览/index.html">
<meta property="og:site_name" content="dthing wiki">
<meta property="og:description" content="Iot基础案例设计初览[TOC]0.Index Internet Of Things - 万物联网。 互联网是人与人的网络互联来产生价值, 而物联网目的是能将任何物体的任何属性都能接入网络或进行反向控制(交互控制和智能控制), 有价值的立刻产生价值, 没有价值的进行价值创造.   1. 物联网要义要义:   物联网的基础要义是远程数据获取和远程对象控制 远程获取数据和远程对象控制既为满足既有需求，">
<meta property="og:locale" content="en">
<meta property="og:image" content="http://otfz8unl1.bkt.clouddn.com/markdown/171030/C5bcCFb555.png">
<meta property="og:updated_time" content="2017-10-31T06:03:46.283Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Iot基础案例设计初览">
<meta name="twitter:description" content="Iot基础案例设计初览[TOC]0.Index Internet Of Things - 万物联网。 互联网是人与人的网络互联来产生价值, 而物联网目的是能将任何物体的任何属性都能接入网络或进行反向控制(交互控制和智能控制), 有价值的立刻产生价值, 没有价值的进行价值创造.   1. 物联网要义要义:   物联网的基础要义是远程数据获取和远程对象控制 远程获取数据和远程对象控制既为满足既有需求，">
<meta name="twitter:image" content="http://otfz8unl1.bkt.clouddn.com/markdown/171030/C5bcCFb555.png">
    

    
        <link rel="alternate" href="/atom.xml" title="dthing wiki" type="application/atom+xml" />
    

    
        <link rel="icon" href="/wiki/favicon.ico" />
    

    <link rel="stylesheet" href="/wiki/libs/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="/wiki/libs/open-sans/styles.css">
    <link rel="stylesheet" href="/wiki/libs/source-code-pro/styles.css">

    <link rel="stylesheet" href="/wiki/css/style.css">
    <script src="/wiki/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="/wiki/libs/jquery/plugins/cookie/1.4.1/jquery.cookie.js"></script>
    
    
        <link rel="stylesheet" href="/wiki/libs/lightgallery/css/lightgallery.min.css">
    
    
        <link rel="stylesheet" href="/wiki/libs/justified-gallery/justifiedGallery.min.css">
    
    
    
    


</head>

<body>
    <div id="container">
        <header id="header">
    <div id="header-main" class="header-inner">
        <div class="outer">
            <a href="/wiki/" id="logo">
                <i class="logo"></i>
                <span class="site-title">dthing wiki</span>
            </a>
            <nav id="main-nav">
                
                    <a class="main-nav-link" href="https://nixlong.github.io">Home</a>
                
                    <a class="main-nav-link" href="https://nixlong.github.io/blog">Blog</a>
                
                    <a class="main-nav-link" href="/wiki/">Wiki</a>
                
                    <a class="main-nav-link" href="https://nixlong.github.io/about/index.html">About</a>
                
            </nav>
            
            <div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="Search" />
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="Type something..." />
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: 'Posts',
            PAGES: 'Pages',
            CATEGORIES: 'Categories',
            TAGS: 'Tags',
            UNTITLED: '(Untitled)',
        },
        ROOT_URL: '/wiki/',
        CONTENT_URL: '/wiki/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/wiki/js/insight.js"></script>

</div>
        </div>
    </div>
    <div id="main-nav-mobile" class="header-sub header-inner">
        <table class="menu outer">
            <tr>
                
                    <td><a class="main-nav-link" href="https://nixlong.github.io">Home</a></td>
                
                    <td><a class="main-nav-link" href="https://nixlong.github.io/blog">Blog</a></td>
                
                    <td><a class="main-nav-link" href="/wiki/">Wiki</a></td>
                
                    <td><a class="main-nav-link" href="https://nixlong.github.io/about/index.html">About</a></td>
                
                <td>
                    
    <div class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="Search" />
    </div>

                </td>
            </tr>
        </table>
    </div>
</header>

        <div class="outer">
            
            
                <aside id="sidebar">
   
        
    <div class="widget-wrap" id='categories'>
        <h3 class="widget-title">
            <span>categories</span>
            &nbsp;
            <a id='allExpand' href="#">
                <i class="fa fa-angle-double-up fa-2x"></i>
            </a>
        </h3>
        
        
        
         <ul class="unstyled" id="tree" style="display: block;"> 
                    <li class="directory open">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder-open"></i>
                            &nbsp;
                            IOT
                        </a>
                         <ul class="unstyled" id="tree" style="display: block;">  <li class="file active"><a href="/wiki/2017/07/24/03-Iot/[iot] - Iot基础案例设计初览/">Iot基础案例设计初览</a></li>  <li class="file"><a href="/wiki/2017/07/25/03-Iot/[iot] - Iot网络层无线技术方案PK(1) - 技术特点初探/">Iot网络层无线技术方案PK(1) - 技术特点初探</a></li>  <li class="file"><a href="/wiki/2017/07/26/03-Iot/[iot] - Iot网络层无线技术方案PK(2) - 华山论剑Round 1 - LPWAN的王者之争 - NB-IOT pk Lora/">Iot网络层无线技术方案PK(2) - LPWAN的王者之争[NB-IOT pk Lora]</a></li>  </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder-open"></i>
                            &nbsp;
                            JAVA
                        </a>
                         <ul class="unstyled" id="tree" style="display: block;">  <li class="file"><a href="/wiki/2017/11/24/05-Java/[java] - 03.Java的字面常量值/">Java的字面常量值</a></li>  <li class="file"><a href="/wiki/2017/11/23/05-Java/[java] - 02.Java的NaN和Infinity/">Java的NaN和Infinity</a></li>  </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder-open"></i>
                            &nbsp;
                            MCU
                        </a>
                         <ul class="unstyled" id="tree" style="display: block;">  <li class="file"><a href="/wiki/2017/08/04/04-Mcu/[mcu] - STM32内存结构总结/">STM32内存结构总结</a></li>  <li class="file"><a href="/wiki/2017/10/26/04-Mcu/[mcu] - UCOSIII-3.04.05定时器Bug/">UCOSIII-v3.04.05 定时器Bug</a></li>  <li class="file"><a href="/wiki/2017/08/14/04-Mcu/[mcu] - Ymodem协议移植/">Ymodem协议移植</a></li>  </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder-open"></i>
                            &nbsp;
                            TOOL
                        </a>
                         <ul class="unstyled" id="tree" style="display: block;">  <li class="file"><a href="/wiki/2017/09/30/09-Tools/[0] - Hexo+github搭建Blog/">Hexo + Github搭建Blog</a></li>  </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder-open"></i>
                            &nbsp;
                            VM
                        </a>
                         <ul class="unstyled" id="tree" style="display: block;">  <li class="file"><a href="/wiki/2017/10/20/02-Vm/[vm] - JVM反编译/">JVM反编译</a></li>  <li class="file"><a href="/wiki/2017/10/20/02-Vm/[vm] - Dalvik反编译/">Dalvik反编译</a></li>  <li class="file"><a href="/wiki/2017/10/25/02-Vm/[vm] - VM学习工具和资料整理/">VM学习资料整理</a></li>  <li class="file"><a href="/wiki/2017/10/19/02-Vm/[vm] - 理解Dalvik指令码执行原理/">理解Dalvik指令码执行原理</a></li>  </ul> 
                    </li> 
                     </ul> 
    </div>
    <script>
        $(document).ready(function() {
            var iconFolderOpenClass  = 'fa-folder-open';
            var iconFolderCloseClass = 'fa-folder';
            var iconAllExpandClass = 'fa-angle-double-down';
            var iconAllPackClass = 'fa-angle-double-up';
            // Handle directory-tree expansion:
            // 左键单独展开目录
            $(document).on('click', '#categories a[data-role="directory"]', function (event) {
                event.preventDefault();

                var icon = $(this).children('.fa');
                var expanded = icon.hasClass(iconFolderOpenClass);
                var subtree = $(this).siblings('ul');
                icon.removeClass(iconFolderOpenClass).removeClass(iconFolderCloseClass);
                if (expanded) {
                    if (typeof subtree != 'undefined') {
                        subtree.slideUp({ duration: 100 });
                    }
                    icon.addClass(iconFolderCloseClass);
                } else {
                    if (typeof subtree != 'undefined') {
                        subtree.slideDown({ duration: 100 });
                    }
                    icon.addClass(iconFolderOpenClass);
                }
            });
            // 右键展开下属所有目录
            $('#categories a[data-role="directory"]').bind("contextmenu", function(event){
                event.preventDefault();
                
                var icon = $(this).children('.fa');
                var expanded = icon.hasClass(iconFolderOpenClass);
                var listNode = $(this).siblings('ul');
                var subtrees = $.merge(listNode.find('li ul'), listNode);
                var icons = $.merge(listNode.find('.fa'), icon);
                icons.removeClass(iconFolderOpenClass).removeClass(iconFolderCloseClass);
                if(expanded) {
                    subtrees.slideUp({ duration: 100 });
                    icons.addClass(iconFolderCloseClass);
                } else {
                    subtrees.slideDown({ duration: 100 });
                    icons.addClass(iconFolderOpenClass);
                }
            })
            // 展开关闭所有目录按钮
            $(document).on('click', '#allExpand', function (event) {
                event.preventDefault();
                
                var icon = $(this).children('.fa');
                var expanded = icon.hasClass(iconAllExpandClass);
                icon.removeClass(iconAllExpandClass).removeClass(iconAllPackClass);
                if(expanded) {
                    $('#sidebar .fa.fa-folder').removeClass('fa-folder').addClass('fa-folder-open')
                    $('#categories li ul').slideDown({ duration: 100 });
                    icon.addClass(iconAllPackClass);
                } else {
                    $('#sidebar .fa.fa-folder-open').removeClass('fa-folder-open').addClass('fa-folder')
                    $('#categories li ul').slideUp({ duration: 100 });
                    icon.addClass(iconAllExpandClass);
                }
            });  
        });
    </script>

    
    <div id="toTop" class="fa fa-angle-up"></div>
</aside>
            
            <section id="main"><article id="post-03-Iot/[iot] - Iot基础案例设计初览" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
            
	
		<img src="http://otfz8unl1.bkt.clouddn.com/markdown/171030/C5bcCFb555.png" class="article-banner" />
	



        
        
            <header class="article-header">
                
                    <div class="article-meta">
                        
    <div class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/wiki/categories/IOT/">IOT</a>
    </div>

                        
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/wiki/tags/iot/">iot</a>
    </div>

                        
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/wiki/2017/07/24/03-Iot/[iot] - Iot基础案例设计初览/">
            <time datetime="2017-07-24T04:00:00.000Z" itemprop="datePublished">2017-07-24</time>
        </a>
    </div>


                        
                    </div>
                
                
    
        <h1 class="article-title" itemprop="name">
            Iot基础案例设计初览
        </h1>
    

            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
        
            
                <div id="toc" class="toc-article">
                <strong class="toc-title">Catalogue</strong>
                    <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Iot基础案例设计初览"><span class="toc-number">1.</span> <span class="toc-text">Iot基础案例设计初览</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#TOC"><span class="toc-number">1.1.</span> <span class="toc-text">[TOC]</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0-Index"><span class="toc-number">1.2.</span> <span class="toc-text">0.Index</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-物联网要义"><span class="toc-number">1.3.</span> <span class="toc-text">1. 物联网要义</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-远程-网络层-技术实现举例"><span class="toc-number">1.4.</span> <span class="toc-text">2. 远程[网络层]技术实现举例</span></a></li></ol></li></ol>
                </div>
            
        
        
            <h1 id="Iot基础案例设计初览"><a href="#Iot基础案例设计初览" class="headerlink" title="Iot基础案例设计初览"></a>Iot基础案例设计初览</h1><h2 id="TOC"><a href="#TOC" class="headerlink" title="[TOC]"></a>[TOC]</h2><h2 id="0-Index"><a href="#0-Index" class="headerlink" title="0.Index"></a>0.Index</h2><blockquote>
<p>Internet Of Things - 万物联网。 互联网是人与人的网络互联来产生价值, 而物联网目的是能将任何物体的任何属性都能接入网络或进行反向控制(交互控制和智能控制), 有价值的立刻产生价值, 没有价值的进行价值创造.</p>
</blockquote>
<hr>
<h2 id="1-物联网要义"><a href="#1-物联网要义" class="headerlink" title="1. 物联网要义"></a>1. 物联网要义</h2><p>要义:</p>
<blockquote>
<ol>
<li>物联网的基础要义是远程数据获取和远程对象控制</li>
<li>远程获取数据和远程对象控制既为满足既有需求，又为创造产生新价值</li>
<li>获得的数据需要存储、分析使用和展示呈现；控制要处理发起点和执行点</li>
<li>现在的技术手段都围绕数据、远程、和展示/控制三大部分展开. 来提高其稳定性、安全性、增强智能化以及降低成本</li>
<li>于是很显然的, 物联网典型的三层结构呼之欲出:<ul>
<li>感知层 [对应数据获取 和 控制执行点]</li>
<li>网络层 [对应解决远程的问题]</li>
<li>应用层 (细粒度可进一步划分为服务层和应用层)  [对应解决数据的存储、使用和展现及控制发起点]</li>
</ul>
</li>
</ol>
</blockquote>
<a id="more"></a>
<p>不同应用场景的可能的演进过程:</p>
<blockquote>
<ol>
<li>进行数据获取和人机交互性的数据下行</li>
<li>进行数据获取和人机交互性的数据下行和控制下行</li>
<li>进行数据获取，加入AI和各种算法服务，完成下行控制的智能化、自动化</li>
</ol>
</blockquote>
<ul>
<li>远程可以通过互联网加各种局域的有线/无线协议来进行技术实现, 对于获取数据和远程控制, 只有基于安全才会有实用意义. 这里的安全包括但不仅限于: 数据获取、传输和存储的加密性安全；数据不遗失的稳定性安全；涉及用户的隐私性数据安全；涉及远程控制的高安全可靠性. 但在目前行业的一片喧嚣声中, 安全性可能是最被忽略和置后考虑的. </li>
<li>根据行业的差异性，物联网又涉及到几个大的细分领域：工业物联(4.0重要方向), 家居物联, 车联网以及农业、环境、城市公共事业等</li>
<li>由于安全性的顾虑, 目前家居物连外的其他方向, 远程控制的发展极为缓慢的. 唯在家居物连方向，由于远程控制涉及的安全性不为特别突出, 一些典型的远程控制场景在这个领域诞生, 比如**的家居产品系列. 当然，如果突然遇到家里接入网络的LED灯忽明忽暗，也不要感到恐怖。只是可能你的家居网络被黑客攻破后逗你玩玩而已.</li>
<li>这里使用家居物联而非智能家居这个词的原因是: 联网只是初级门槛, 而智慧还要涉及更多的工作</li>
</ul>
<blockquote>
<p>本文先主要谈谈三层结构的网络层, 感知层和应用层涉及技术在以后的设计案例中介绍</p>
</blockquote>
<p><br></p>
<h2 id="2-远程-网络层-技术实现举例"><a href="#2-远程-网络层-技术实现举例" class="headerlink" title="2. 远程[网络层]技术实现举例"></a>2. 远程[网络层]技术实现举例</h2><blockquote>
<p>本章节提到的各种无线技术特点不深解析点到为止，会另开文进行比较</p>
</blockquote>
<p><br></p>
<p>###2.0 案例索引</p>
<p>我们假设一个简洁的家居场景来作为案例索引，本文后面说明都主以此例为例:</p>
<p>&gt;</p>
<blockquote>
<p> <strong>某软硬件都懂点的码农小X拥有一客厅两卧室一厨一卫一种花养猫小阳台的温馨小居, 拟进行初级的家居物联改造，产品不买现成的，技术自己实现:</strong></p>
<ol>
<li>接入客厅门禁感应器D1 - 检测开关门情况</li>
<li>接入分布在客厅, 主卧，次卧的三盏LED灯控制器(分别标记为L1,L2,L3) - 实现远程开关灯操作和开关状态检测</li>
<li>接入客厅的空调控制器A1 - 实现远程开关客厅空调</li>
<li>接入厨房的带开关控制的煤气检测仪B1 - 实现煤气漏气检测和远程操作关闭煤气装置</li>
<li>接入厨房的火警传感器F1 - 实现检测火警报警</li>
<li><p>接入阳台花园的浇水控制器装置W1 - 实现远程控制给花园植物浇水</p>
<p>以上远程操作需要可以在任何地方进行</p>
</li>
</ol>
</blockquote>
<p>必然目前方案的技术实现基于目前成熟的联网技术和协议. 远程的控制终端可以是app或网页或微信等.码农小X可以选用两个思路的技术方案:</p>
<ul>
<li>单层网络结构：远程分别单独读取或控制D1, L1,L2,L3,A1,B1,F1,W1</li>
<li>双层网络结构：设计一个中继转发设备C, 所有的读取或控制都经过C进行转发</li>
</ul>
<p><img src="http://otfz8unl1.bkt.clouddn.com/markdown/170725/lemdeLH9I9.png?imageslim" alt="两类网络结构"></p>
<p><br></p>
<p>###2.1 物联网的单层网络结构方案</p>
<p>拓扑示意如上图的下半部分</p>
<p>设计要点是直接使用现成的广域网数据接入协议, 针对每个单点对象进行访问控制.那么每个目标设备都需要直接接入广域互联网.目前可直接接入互联网的方案有: 2G/3G/4G/Wifi/有线宽带/SMS, 以及运营商正在扩建的LPWAN网络…这个方案的特点:</p>
<ul>
<li>每个设备都是独立的接入广域网, 相互之间不关心其他设备的存在</li>
<li>每个设备都需要搭载一套广域网接入解决方案</li>
</ul>
<p>假设小X选用这种网络方案来完成他的家居物联改造：这种方案除了每个终端节点都能复用现在的居家标配以太网或者Wifi以外，其他任何直连广域网方案都会产生额外的费用，这一定是小X代表的群体大多数所不愿意的。好了，以太网还是Wifi呢？</p>
<ul>
<li>以太网: 如果所有终端都用有线以太网接入，想象一下小X满屋都是网线的情况，而且安装好后还不能随便移动。帮小X pass</li>
<li>Wifi - 至少是个很不错的方案了呢，每个产品节点至少都能入网了。BUT…<ul>
<li>1.只是由于Wifi功耗问题，得要求每个产品节点都要设计供电电源，并把电源布线到家里每个角落，方便随时可以挪挪；</li>
<li>2.由于Wifi网络容量的问题，小X以后也别扩展太多产品节点了，加上家里的各种电脑、pad、phone，Wifi热点实在受不住这么多连接点啊，多了，连不上？不稳定？老要重启路由器？ </li>
</ul>
</li>
</ul>
<blockquote>
<p>看样子在小X的改造方案里, 广域网使用以太网是各馊主意，用Wifi算是个好方案，但好像由于功耗和负载能力问题，还不算最理想的方案啊!</p>
</blockquote>
<p><br></p>
<p>###2.2 物联网的两层网络结构方案</p>
<p>拓扑示意如上图的上半部分</p>
<p>以网关C为界:</p>
<ul>
<li>向上接入标准广域网使用2/3/4G、以太网或接入以太网的Wifi</li>
<li>向下使用各类方案进行组网或者混合组网完成局域网组建, 如wifi、zigbee、蓝牙、z-wave等</li>
</ul>
<p>这样，网络层的数据通道就成了：</p>
<blockquote>
<ol>
<li>数据下行时：数据先走到网关C，再通过C 转发 到目标终端节点</li>
<li>数据上行时：终端节点将数据上报给网关C，再由C转发到Server</li>
</ol>
</blockquote>
<p>继续为小X的改造方案出谋划策：</p>
<blockquote>
<ol>
<li>Wifi的特点前面已经讨论</li>
<li>小X看了一下自己屋子平面图，看了一下蓝牙目前的技术特性(容量小、距离短)，暂时忽略了蓝牙方案</li>
<li>剩下ZigBee和Z-Wave，小X网上学习了下咋看有点相似的两协议，对比了下技术特点后再在某宝对比了下模块供应量和价格，决定先考虑Zigbee(ZigBee较低功耗的特点可以对某些节点设计电池供电，妈妈再也不会担心满屋都是乱飞的电源线啦)</li>
</ol>
</blockquote>
<p>到这里，小X对他的方案有个初步草稿了</p>
<p><br></p>
<p>###2.3 小X的方案设计初稿</p>
<p>对比了单层网络结构和两层网络结构后，小X决定采用两层网络结构且广域网基于Wifi技术局域网基于Zigbee技术来给出设计方案初稿：</p>
<blockquote>
<ol>
<li>因为Zigbee不具备广域网接入能力，那么设计一个中继器网关: 作为广域网和局域网的协议和数据转的换换点；作为Zigbee网络系统的协调器角色</li>
<li>给门禁节点D1, LED灯L1,L2,L3, 空调控制器A1,煤气检测仪B1,火警检测F1,浇水装置W1 都加上Zigbee终端节点用于数据/控制上下行</li>
<li>一并给出小X设计的各模块检测/控制技术：D1检测开关状态量、L1/2/3 用继电器加PWM技术、A1涉及红外、B1/F1采购现成的传感器、W1得整个小水泵.</li>
</ol>
</blockquote>
<p><br></p>
<p>###2.4 小X的新烦恼</p>
<p>在小X将他的计划绘声绘色的讲给家人听后，大家都听懂了，大家都觉得好，大家对小X表达了支持后，大家顺便又提出了新想法：</p>
<blockquote>
<p>老婆： 咱上班又遇上爸妈回老家的时候，阳台上养的小猫咪贝拉没人喂食啊，要不顺便设计一个带视频的远程喂食系统，在办公室就能喂，多方便啊！ 什么？买一个现成的？你可是傲娇的公城狮诶，不该说这种话吧？！对了，卧室几年没用的蓝牙音箱，你也往你的系统里面给设计设计呀。能随时给贝拉放歌呢</p>
<p>儿子：爸爸爸爸、你这么厉害，给我设计一个可以手机上控制的遥控飞机好不好？买？我不要买的，满大街都是，一点都不酷..</p>
<p>老妈：儿子，孙子一天喜欢小区到处乱跑，到饭点了还老不回家，你给他设计一个手上带的玩意，我在家里手机上就可以看到他在哪玩，还有我家里拿个对讲机一喊，他就听到回家啦，你说多好啊！柯南？谁是柯南？</p>
<p>老爸：儿子，你知道我心脏有点小问题，每天总有那么一两下跳动好像不规律，能不能想个办法给我监测下？上医院？上医院干什么，我不是看那网上都吹什么 爱 技术要取代医生了吗，哦，你这个技术不是爱技术啊！那你现学啊…</p>
</blockquote>
<p>唉…  小 X 心想，想装个逼，把自己给装进去了…</p>
<p><br></p>
<p>##3. 方案技术框架</p>
<p>小X设计方案的典型三层物联网拓扑框架图：</p>
<p><img src="http://otfz8unl1.bkt.clouddn.com/markdown/170727/bi405Fe65E.png" alt="mark"></p>
<p>初步考虑好了整个框架，涉及到更多的技术细节需要考虑：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1. 网络层的广域网络选用什么IP协议来连接服务器和网关, 基于TCP？UDP？甚至HTTP？还是基于新贵MQTT或COAP？2. 网络层的广域网选用不同的IP协议，让网关层、应用层需要产生哪些额外的工作，变得更复杂还是更简单？</span><br><span class="line">3. 网络层的局域网络初步设计为Zigbee星形网络，是否要提前考虑未来接入其他非Zigbee终端，怎么预留，怎么考虑？</span><br><span class="line">4. 局域网络的数据协议怎么定义？</span><br><span class="line">5. 应用层的数据接入、数据存储、数据分析使用、数据展示怎么来设计，使用什么技术或框架？</span><br><span class="line">6. 感知/终端层涉及到上行的数据/状态采集，也涉及到下行的状态检测和控制输出，也需要配合应用层和网络层来考虑协议制定</span><br><span class="line">7. 感知/终端层涉及到各种硬件协议和技术，将来在小X的案例进行中慢慢解析</span><br></pre></td></tr></table></figure>
<p>可以看出，整个方案不同层次之间相互影响，比如终端只能提供很有限的硬件存储资源和运算能力，使用json格式甚至xml这些常用于web开发的数据格式，而对于很多嵌入式设备来说简直就是什么鬼？！</p>
<p>每层设计得为其他层考虑，不能只图本层自己爽.</p>
<p><br></p>
<p>##4. 演进</p>
<blockquote>
<ol>
<li>小Y：我不是小X啊，只是懂些上层开发技术，下层这些东西，我只能玩玩Arduino吗，好像arduino现在赚钱的就只是arduino开发板本身啊！树莓派？做产品价格略贵技术略复杂啊…</li>
<li>小Z：我不是小X啊，只是懂些下层嵌入式技术，上层的web、app开发通通不会，怎么玩啊！</li>
<li>小X：我是小X，物联网三层各懂一点，但我做的这些技术设计，好像换一个应用场景又要全来一次啊，有没有部分技术可以复用的呢，尽量重用硬件设计、尽量能重用软件设计，或者设计一种方便跨越几种无线通信技术的框架啊？</li>
</ol>
</blockquote>
<p>由于场景需求的多样性，软硬件技术的多样性，即使都期待一种更通用的框架技术，也是走的步履蹒跚。高通推的Alljoyn，在试图做这个尝试，有兴趣的小X, 小Y，小Z可以关注Alljoyn的发展。</p>
<p><br></p>
<p>##5. 结束</p>
<p>小X的家居物联改造方案，本次先出个框框，后面慢慢跟小X一起进行技术实现了。</p>
<p>用一个简单的设计案例简单的描述了物联网的三层技术结构，提到几个简单的行业常见词语。物联网是一个大的行业，不仅仅是一个专业，有多种应用场景和多类典型的应用领域。前文提到的单层网络结构和提到的LPWAN技术，只是在小X的案例中没有应用到，在其他更多更广阔的领域里，都在发挥着巨大的作用。</p>
<p>感知终端层涉及的更多软硬件(及各类传感器)技术，网络层的有线无线局域广域方案、应用层的ABCD等，都在各种场景里面进行着排列组合，尽量设计出最优方案来解决各种场景问题。优秀的方案特点必定包含但不限于：简洁的技术实现、稳定而又安全、尽量低的成本、更方便的运行维护。</p>
<p>下次再聊别的，也关于IOT！</p>
<hr>
<blockquote>
<p>Author:     nix.long<br>原创撰写，禁止转载； 错误之处，敬谢大刀斧正.</p>
</blockquote>

            </div>
        
        <footer class="article-footer">
        </footer>
    </div>
</article>


    
<nav id="article-nav">
    
        <a href="/wiki/2017/07/25/03-Iot/[iot] - Iot网络层无线技术方案PK(1) - 技术特点初探/" id="article-nav-newer" class="article-nav-link-wrap">
            <strong class="article-nav-caption">Newer</strong>
            <div class="article-nav-title">
                
                    Iot网络层无线技术方案PK(1) - 技术特点初探
                
            </div>
        </a>
    
    
</nav>





    
    




<!-- baidu url auto push script -->
<script type="text/javascript">
    !function(){var e=/([http|https]:\/\/[a-zA-Z0-9\_\.]+\.baidu\.com)/gi,r=window.location.href,o=document.referrer;if(!e.test(r)){var n="//api.share.baidu.com/s.gif";o?(n+="?r="+encodeURIComponent(document.referrer),r&&(n+="&l="+r)):r&&(n+="?l="+r);var t=new Image;t.src=n}}(window);
</script>     
</section>
        </div>
        <footer id="footer">
    <div class="outer">
        <div id="footer-info" class="inner">
            nix.long &copy; 2017 
            <a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-nd/4.0/80x15.png" /></a>
            <br> Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>. Theme - <a href="https://github.com/zthxxx/hexo-theme-Wikitten">wikitten</a>
        </div>
    </div>
</footer>
        

    
        <script src="/wiki/libs/lightgallery/js/lightgallery.min.js"></script>
        <script src="/wiki/libs/lightgallery/js/lg-thumbnail.min.js"></script>
        <script src="/wiki/libs/lightgallery/js/lg-pager.min.js"></script>
        <script src="/wiki/libs/lightgallery/js/lg-autoplay.min.js"></script>
        <script src="/wiki/libs/lightgallery/js/lg-fullscreen.min.js"></script>
        <script src="/wiki/libs/lightgallery/js/lg-zoom.min.js"></script>
        <script src="/wiki/libs/lightgallery/js/lg-hash.min.js"></script>
        <script src="/wiki/libs/lightgallery/js/lg-share.min.js"></script>
        <script src="/wiki/libs/lightgallery/js/lg-video.min.js"></script>
    
    
        <script src="/wiki/libs/justified-gallery/jquery.justifiedGallery.min.js"></script>
    
    
        <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true,
            TeX: {
                equationNumbers: {
                  autoNumber: 'AMS'
                }
            }
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script async src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    



<!-- Custom Scripts -->
<script src="/wiki/js/main.js"></script>

    </div>
</body>
</html>